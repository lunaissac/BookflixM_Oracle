<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <h:head>
        <link rel="icon" type="image/png" href="resources/images/login/logo-login.png" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <meta name="apple-mobile-web-app-capable" content="yes" />

        <h:outputStylesheet library="css" name="theme.css" />
        <h:outputStylesheet library="css" name="font-awesome.css" />
        <h:outputStylesheet library="css" name="font-awesome.min.css" />
        <h:outputStylesheet library="css" name="components.css" />
        <h:outputStylesheet library="css" name="layout-turquoise.css" />
        <h:outputStylesheet library="css" name="personalizaciones.css" />

        <!--        <h:outputScript library="js" name="jquery.js" />-->
        <h:outputScript library="js" name="core.js" />
        <h:outputScript library="js" name="components.js" />
        <h:outputScript library="js" name="Validaciones.js" />

        <script type="text/javascript">if (window.PrimeFaces) {
                PrimeFaces.settings.locale = 'en_US';
            }
        </script>
        <f:event type="preRenderView" listener="#{usuarioController.securityLogin()}"/>
        <title>Iniciar Sesión</title>
    </h:head>
    <h:body class="login-body"> 
        <style>
            .ui-growl {
                left:49%;
            }
        </style>

        <div class="container1" id="container1" style=" z-index: 3;"/>
        <div class="container2" id="container2" style="z-index: 3;"/>
        <div id="loader-wrapper">
            <div id="loader">
            </div>
        </div>

        <p:growl id="MsjLogin" showDetail="true"/>         
        <div class="login-panel ui-fluid" >
            <label id="IEP" style="margin-left: 22px;
                   margin-bottom: 0;
                   margin-top: 0;
                   margin-right: 0;
                   text-align-last: center;">"I.E Nuestra Señora del Valle"</label>
            <h:form class="ui-g" id="LoginP">
                <div class="ui-g-12 logo-container">
                    <img id="j_idt7" src="resources/images/login/logo-login.png" alt="" width="50%" />
                </div>
                <div class="ui-g-12">
                    <p:inputText 
                        value="#{usuarioController.user}" 
                        placeholder="Usuario" 
                        required="true" 
                        requiredMessage="Se requiere Usuario!" 
                        styleClass="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all"/>
                </div>
                <div class="ui-g-12">
                    <p:password  
                        value="#{usuarioController.pass}" 
                        required="true" 
                        requiredMessage="Se requiere Contraseña!" 
                        placeholder="Contraseña" 
                        styleClass="ui-inputfield ui-password ui-widget ui-state-default ui-corner-all"/>
                </div>
<!--                <div class="ui-g-12 chkbox-container">
                    <div id="remember-me" class="ui-selectbooleancheckbox ui-chkbox ui-widget">
                        <div class="ui-helper-hidden-accessible">
                            <input id="remember-me_input" name="remember-me_input" type="checkbox" autocomplete="off" aria-hidden="true" aria-checked="false" />
                        </div>
                        <div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default">
                            <span class="ui-chkbox-icon ui-icon ui-icon-blank ui-c"></span>
                        </div>
                    </div>
                    <label id="j_idt13" class="ui-outputlabel ui-widget" for="remember-me_input">Remember Me</label>
                </div>-->
                <div class="ui-g-12 button-container">
                    <p:commandButton
                        id="Inicia"
                        value="Ingresar"
                        icon="ui-icon-person"
                        update="MsjLogin"
                        styleClass="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left"
                        actionListener="#{usuarioController.startSession()}">
                    </p:commandButton>
                    <button id="j_idt16" name="j_idt16" type="button" 
                            class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left black-btn" 
                            onclick="window.open('\/BookflixM/faces\/Persona/RecuperarPass.xhtml', '_self')">
                        <span class="ui-button-icon-left ui-icon ui-c fa fa-key"></span>
                        <span class="ui-button-text ui-c">Olvide mi contraseña</span>
                    </button>
                </div>
                <p:blockUI  block="LoginP" trigger="Inicia" animate="true"  >
                    <p:graphicImage url="resources/images/login/31.gif" height="100%" width="100%"/>
                </p:blockUI>
                <script>
                    let loader_wrapper = document.getElementById('loader-wrapper');
                    setTimeout(function () {
                        loader_wrapper.classList.add('close');
                    }, 4000);

                    let container1 = document.getElementById('container1');

                    setTimeout(function () {
                        container1.classList.add('cerrar1');
                    }, 4000);

                    let container2 = document.getElementById('container2');

                    setTimeout(function () {
                        container2.classList.add('cerrar2');
                    }, 4000);

                    let eliminar = document.getElementById('container2');

                    setTimeout(function () {
                        eliminar.classList.add('eliminar');
                    }, 4900);
                </script>
            </h:form>  
            <label id="IEP" style="margin-left: 82px;
                   margin-bottom: 0;
                   margin-top: 0;
                   margin-right: 0;
                   text-align-last: center;">Versión 3.0</label>
        </div>
    </h:body>
</html>